name: Frontend Tests

on:
  push:
    branches: [ main, develop ]
    paths: 
      - 'static/**'
      - 'templates/**'
  pull_request:
    branches: [ main, develop ]
    paths:
      - 'static/**'
      - 'templates/**'

jobs:
  frontend-lint:
    runs-on: ubuntu-latest
    name: Frontend Code Quality
    
    steps:
    - uses: actions/checkout@v4
    
    - name: Set up Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '18'
        
    - name: Install HTML/CSS/JS linters
      run: |
        npm install -g htmlhint stylelint eslint
        npm install -g stylelint-config-standard
        
    - name: Lint HTML files
      run: |
        find templates/ -name "*.html" -exec htmlhint {} \;
      continue-on-error: true
      
    - name: Lint CSS files
      run: |
        find static/css/ -name "*.css" -exec stylelint {} \;
      continue-on-error: true
      
    - name: Lint JavaScript files
      run: |
        find static/js/ -name "*.js" -exec eslint {} \;
      continue-on-error: true
        
    - name: Check file structure
      run: |
        echo "Checking frontend file structure..."
        ls -la static/
        ls -la templates/
        echo "Frontend structure check completed"
